name: ubuntu-pinned
platform: linux
os: ubuntu
version: '22.04'
release: jammy
sections:
    - name: core
      type: debian_packages
      pre_install: |
        sudo apt update && sudo apt dist-upgrade -y
      install:
        - build-essential
        - curl
        - wget
        - git=1:2.34.1-1ubuntu1.10
        - vim=2:8.2.3995-1ubuntu2.15
        - htop=3.0.5-7build2
      post_install: |
        echo "Core packages with pinned versions installed"

    - name: python
      type: debian_packages
      install:
        - python3=3.10.6-1~22.04
        - python3-pip=22.0.2+dfsg-1ubuntu0.4
        - python3-venv=3.10.6-1~22.04

    - name: python-packages
      type: python_packages
      install:
        - pip==23.3.1
        - wheel==0.41.3
        - virtualenv==20.24.6
        - requests==2.31.0
        - flask>=2.3.0,<3.0
        - pytest==7.4.3
        - black==23.11.0
        - pylint~=3.0.0

    - name: development
      type: python_packages
      install:
        - django>=4.2.0,<5.0
        - sqlalchemy==2.0.23
        - alembic==1.12.1
        - celery==5.3.4
        - redis==5.0.1

    - name: data-science
      type: python_packages
      install:
        - numpy==1.24.3
        - pandas==2.0.3
        - matplotlib==3.7.3
        - scikit-learn==1.3.2
        - jupyter==1.0.0
